!function(){"use strict";const e=e=>!0===e||"true"===e||1===e,t=(e,t,s,i)=>{const n=document.getElementById(i);if(!n){const n=document.createElement(e);n.id=i,"script"===e?(n.src=t,document.body.appendChild(n),n.onload=(()=>{s&&s()})):"link"===e&&(n.rel="stylesheet",n.type="text/css",n.href=t,document.getElementsByTagName("head")[0].appendChild(n))}n&&s&&s()};function s(){const t="vue_"+(new Date).getTime().toString(),s=document.createElement("div");s.id=t,s.setAttribute("class","root-of-all"),document.body.appendChild(s);const i={name:"SwitchToggle",props:["status","change","small"],data:()=>({}),methods:{changeMy(){this.change()}},template:'\n        <div class="switch-toggle-outer">\n            \x3c!--<input type="checkbox" :checked="status" :id="id">:for="id"--\x3e\n            <label :class="small?\'smaller\':\'normal\'" :name="status?\'checked\':\'unchecked\'" @click="changeMy"></label>\n        </div>\n        '},n={name:"controller",props:["current","Fdown","Fup"],methods:{up(){this.Fup()},down(){this.Fdown()}},template:'\n        <div class="controller-outer">\n            <div @click="down" class="ctrl-btn">-</div>\n            <div class="ctrl-num">{{current}}</div>\n            <div @click="up" class="ctrl-btn">+</div>\n        </div>\n        '},a={components:{controller:n,switch_toggle:i},name:"speedup",props:["ifshow","changeshow","onspeedup","offspeedup","displaymore"],data:()=>({config:{max:25,min:.1,default:10,choice:[.5,1,5,10,18,25]},current:10,title:"变速",status:!1}),template:'\n        <div class="black-curtain" v-show="ifshow" @click.self="changeshow">\n            <div class="all-func-outer">\n                <div class="my-funcs">\n                    <div class="func-speedup one-func">\n                        <div class="func-title">{{title}}</div>\n                        <div class="func-quick">\n                            <li v-for="item in config.choice" :key="item" @click="changespeed(item)">{{item}}</li>\n                        </div>\n                        <div class="func-other">\n                            <controller :current="current" :Fdown="passdown" :Fup="passup"></controller>\n                            <switch_toggle :status="status" :change="changeStatus"></switch_toggle>\n                        </div>\n                    </div>\n                    <div @click="displaymore" class="speed-up-more">更多功能</div>\n                </div>\n            </div>\n        </div>\n        ',watch:{current(){!0===this.status&&this.applySpeed()},status(){this.applySpeed()}},methods:{offmanual(){this.status=!1},changespeed(e){e<this.config.min&&(e=this.config.min),e>this.config.max&&(e=this.config.max),this.current=e},applySpeed(){if(!0===this.status)try{this.onspeedup(),window.Laya&&window.Laya.timer&&window.Laya.timer.scale&&(window.Laya.timer.scale=this.current)}catch(e){window.console.warn(e)}else try{this.offspeedup(),window.Laya&&window.Laya.timer&&window.Laya.timer.scale&&(window.Laya.timer.scale=1)}catch(e){window.console.warn(e)}},changeStatus(){this.status=!this.status},passdown(){this.current>1?this.current-=1:this.current>0&&this.current<=1?(this.current=(10*this.current-1)/10,0===this.current&&(this.current=this.config.min)):this.current=this.config.min},passup(){if(this.current>=1&&this.current<this.config.max)this.current+=1;else{if(this.current>=this.config.max)return;this.current=(10*this.current+1)/10,this.current<this.config.min&&(this.current=this.config.min)}}},mounted(){var e=this;var t=XMLHttpRequest.prototype.open,s=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(t){!function(t){(t.indexOf("h5.kxgcw.com/1604021180/assets/otherAssets/music/pvpMusic/pvpBgm")>-1||t.indexOf("h5.kxgcw.com/1593740029/assets/ui/PC/pvpDynamicBg1")>-1)&&(console.warn("检测到您可能点击了PVP，已自动关闭加速(如果不是，请忽略)"),e.offmanual())}(t.target.responseURL)}),t.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){s.apply(this,arguments)}}},o={name:"settings",props:["ifshow","hideshow"],components:{controller:n,switch_toggle:i},data(){return{ctrlani:!0,pcfull:!1,gameani:!1,configs:[{tit:"界面字号设置",type:2,details:{default:this.readStorage("basicsize",16),down:()=>{let e=this.readStorage("basicsize",16);--e<=10&&(e=10),this.configs[0].details.default=e,this.setStorage("basicsize",e),this.setFontAll(e)},up:()=>{let e=this.readStorage("basicsize",16);++e>=30&&(e=30),this.configs[0].details.default=e,this.setStorage("basicsize",e),this.setFontAll(e)}}},{tit:"电脑端窗口大小默认铺满",type:1,details:{default:e(this.readStorage("pcfullscreen",!0)),change:()=>{let t=!e(this.readStorage("pcfullscreen",!0));this.setStorage("pcfullscreen",t),this.configs[1].details.default=t,this.pcfull=t}}},{tit:"游戏内弹窗动画和战斗动画",type:1,details:{default:e(this.readStorage("gameani",!1)),change:()=>{let t=!e(this.readStorage("gameani",!1));this.setStorage("gameani",t),this.configs[2].details.default=t,this.gameani=t}}}]}},methods:{readStorage:(e,t)=>void 0===localStorage.getItem("myvuesettings-"+e)||null===localStorage.getItem("myvuesettings-"+e)?(localStorage.setItem("myvuesettings-"+e,t),t):localStorage.getItem("myvuesettings-"+e),setStorage(e,t){localStorage.setItem("myvuesettings-"+e,t)},setFontAll(e){s.style.setProperty("--bsc",e+"px")},delayHideShow(){this.ctrlani=!1,this.hideshow(),setTimeout(()=>this.ctrlani=!0,350)}},watch:{pcfull(e){try{!0===e?(Laya.Config.isFullScreen=!0,Laya.stage.scaleMode="showall"):(Laya.Config.isFullScreen=!1,Laya.stage.scaleMode="noscale")}catch(e){console.warn(e)}},gameani(e){try{Laya.Config.isOpenAni=e,Laya.Config.isOpenFightingAni=e}catch(e){console.warn(e)}}},template:'\n        <div v-show="ifshow"><div class="settings-background" @click.self="delayHideShow"></div>\n        <div :class="\'settings-outer \'+(ctrlani?\'active\':\'deactive\')" ref=\'showouter\'>\n            <div class="settings-title">设置</div>\n            <ul class="settings-body">\n                <li v-for="(item, idx) in configs" :key="\'settings-\'+idx">\n                    <span>{{item.tit}}</span>\n                    <template v-if="item.type===2">\n                        <controller :current="item.details.default" :Fdown="item.details.down" :Fup="item.details.up"></controller>\n                    </template>\n                    <template v-else-if="item.type===1">\n                        <switch_toggle :small="true" :status="item.details.default" :change="item.details.change"></switch_toggle>\n                    </template>\n                </li>\n            </ul>\n            <div class="settings-tail">版本号: v2.0.0_beta_2021.12.25</div>\n        </div>\n        </div>\n        ',created(){let e=this.readStorage("basicsize",16);this.setFontAll(e);let t=this.readStorage("pcfullscreen",!0);this.pcfull=t;let s=this.readStorage("gameani",!0);this.gameani=s}};Vue.createApp({components:{speedup:a,settings:o},data:()=>({eyeon:!1,battle:!1,speedshow:!1,moreshow:!1}),template:'\n        <div id="eye_control" @click="changeSpeedShow">\n            <button id="x_eye" :class="eyeon&&battle? \'evoplus evo_eye eye\':(eyeon?\'evo_eye eye\':\'eye\')">\n                <div :class="\'jewels eye3\' + (battle?\' eye_evo\':\'\')">\n                    <span class="jewel"></span>\n                    <span class="jewel"></span>\n                    <span class="jewel"></span>\n                </div>\n            </button>\n        </div>\n        <speedup :ifshow="speedshow" :changeshow="changeSpeedShow" :onspeedup="onspeedup" :offspeedup="offspeedup" :displaymore="displaymore"></speedup>\n        <settings :ifshow="moreshow" :hideshow="hidemoreshow"></settings>\n        ',methods:{displaymore(){this.speedshow=!1,this.moreshow=!0},changeSpeedShow(){this.speedshow=!this.speedshow},changeon(){this.eyeon=!this.eyeon},changebattle(){this.battle=!this.battle},onspeedup(){this.eyeon=!0},offspeedup(){this.eyeon=!1},hidemoreshow(){setTimeout(()=>this.moreshow=!1,300)}}}).mount("#"+t)}window.addEventListener("DOMContentLoaded",()=>{t("link","https://cdn.jsdelivr.net/gh/tempvalut/temppokescript@main/css/basic.css",void 0,"basic-css"),t("script","https://unpkg.com/vue@next",s,"vue3load")})}();